import{b as O}from"../chunks/paths.2aa7a41d.js";import{S as P,i as C,s as D,k as _,l as g,m as y,h as m,n as c,b as E,H,J as se,e as I,q as R,a as M,r as U,c as T,p as G,G as p,u as B,K as J,L as K,M as Q,N as re,O as oe,g as A,d as S,f as ce,o as ue,w as fe,P as me,y as N,z,A as V,Q as he,B as j,v as de}from"../chunks/index.7c5e5199.js";import{c as F,t as L,l as ie,d as _e,a as q,i as W}from"../chunks/setup.dac6d26f.js";const ge=async({fetch:s})=>({posts:await(await s(`${O}/api/posts`)).json()}),Pe=Object.freeze(Object.defineProperty({__proto__:null,load:ge},Symbol.toStringTag,{value:"Module"}));function X(s,e,a){const t=s.slice();return t[2]=e[a],t}function Y(s){let e,a,t,l=s[2].meta.title+"",i,n,r,h,v,f=s[2].meta.cover&&Z(s),o=s[2].meta.description&&$(s);return{c(){e=_("a"),a=_("div"),t=_("h2"),i=R(l),n=M(),f&&f.c(),r=M(),o&&o.c(),h=M(),this.h()},l(u){e=g(u,"A",{href:!0,target:!0,class:!0});var k=y(e);a=g(k,"DIV",{class:!0,style:!0});var d=y(a);t=g(d,"H2",{class:!0});var b=y(t);i=U(b,l),b.forEach(m),n=T(d),f&&f.l(d),r=T(d),o&&o.l(d),d.forEach(m),h=T(k),k.forEach(m),this.h()},h(){c(t,"class","svelte-mhwrab"),c(a,"class","column svelte-mhwrab"),G(a,"--meta-color",s[2].meta.color),c(e,"href",v=""+(O+s[2].path)),c(e,"target","_self"),c(e,"class","svelte-mhwrab")},m(u,k){E(u,e,k),p(e,a),p(a,t),p(t,i),p(a,n),f&&f.m(a,null),p(a,r),o&&o.m(a,null),p(e,h)},p(u,k){k&1&&l!==(l=u[2].meta.title+"")&&B(i,l),u[2].meta.cover?f?f.p(u,k):(f=Z(u),f.c(),f.m(a,r)):f&&(f.d(1),f=null),u[2].meta.description?o?o.p(u,k):(o=$(u),o.c(),o.m(a,null)):o&&(o.d(1),o=null),k&1&&G(a,"--meta-color",u[2].meta.color),k&1&&v!==(v=""+(O+u[2].path))&&c(e,"href",v)},d(u){u&&m(e),f&&f.d(),o&&o.d()}}}function Z(s){let e,a,t;return{c(){e=_("img"),this.h()},l(l){e=g(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){J(e.src,a=s[2].meta.cover)||c(e,"src",a),c(e,"alt",t=s[2].meta.title),c(e,"class","svelte-mhwrab")},m(l,i){E(l,e,i)},p(l,i){i&1&&!J(e.src,a=l[2].meta.cover)&&c(e,"src",a),i&1&&t!==(t=l[2].meta.title)&&c(e,"alt",t)},d(l){l&&m(e)}}}function $(s){let e,a=s[2].meta.description+"";return{c(){e=_("div"),this.h()},l(t){e=g(t,"DIV",{class:!0});var l=y(e);l.forEach(m),this.h()},h(){c(e,"class","text svelte-mhwrab")},m(t,l){E(t,e,l),e.innerHTML=a},p(t,l){l&1&&a!==(a=t[2].meta.description+"")&&(e.innerHTML=a)},d(t){t&&m(e)}}}function x(s){let e,a=s[2].meta.isPublic&&s[2].meta.lang==s[1]&&Y(s);return{c(){a&&a.c(),e=I()},l(t){a&&a.l(t),e=I()},m(t,l){a&&a.m(t,l),E(t,e,l)},p(t,l){t[2].meta.isPublic&&t[2].meta.lang==t[1]?a?a.p(t,l):(a=Y(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},d(t){a&&a.d(t),t&&m(e)}}}function pe(s){let e,a=s[0].posts,t=[];for(let l=0;l<a.length;l+=1)t[l]=x(X(s,a,l));return{c(){e=_("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=g(l,"DIV",{class:!0});var i=y(e);for(let n=0;n<t.length;n+=1)t[n].l(i);i.forEach(m),this.h()},h(){c(e,"class","columns svelte-mhwrab")},m(l,i){E(l,e,i);for(let n=0;n<t.length;n+=1)t[n].m(e,null)},p(l,[i]){if(i&3){a=l[0].posts;let n;for(n=0;n<a.length;n+=1){const r=X(l,a,n);t[n]?t[n].p(r,i):(t[n]=x(r),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=a.length}},i:H,o:H,d(l){l&&m(e),se(t,l)}}}function ve(s,e,a){let{data:t}=e,{lang:l}=e;return s.$$set=i=>{"data"in i&&a(0,t=i.data),"lang"in i&&a(1,l=i.lang)},[t,l]}class be extends P{constructor(e){super(),C(this,e,ve,pe,D,{data:0,lang:1})}}function ee(s){let e,a=s[2][s[1]]+"";return{c(){e=_("h3"),this.h()},l(t){e=g(t,"H3",{class:!0});var l=y(e);l.forEach(m),this.h()},h(){c(e,"class","svelte-hlg6w7")},m(t,l){E(t,e,l),e.innerHTML=a},p(t,l){l&6&&a!==(a=t[2][t[1]]+"")&&(e.innerHTML=a)},d(t){t&&m(e)}}}function ke(s){let e,a,t,l,i=s[2][s[1]]&&ee(s);return{c(){e=_("header"),a=_("h1"),t=R(s[0]),l=M(),i&&i.c(),this.h()},l(n){e=g(n,"HEADER",{class:!0});var r=y(e);a=g(r,"H1",{});var h=y(a);t=U(h,s[0]),h.forEach(m),l=T(r),i&&i.l(r),r.forEach(m),this.h()},h(){c(e,"class","svelte-hlg6w7")},m(n,r){E(n,e,r),p(e,a),p(a,t),p(e,l),i&&i.m(e,null)},p(n,[r]){r&1&&B(t,n[0]),n[2][n[1]]?i?i.p(n,r):(i=ee(n),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:H,o:H,d(n){n&&m(e),i&&i.d()}}}function we(s,e,a){let{title:t}=e,{lang:l}=e,{description:i}=e;return s.$$set=n=>{"title"in n&&a(0,t=n.title),"lang"in n&&a(1,l=n.lang),"description"in n&&a(2,i=n.description)},[t,l,i]}class Ee extends P{constructor(e){super(),C(this,e,we,ke,D,{title:0,lang:1,description:2})}}function te(s,e,a){const t=s.slice();return t[5]=e[a],t}function ae(s){let e,a=s[1],t=[];for(let l=0;l<a.length;l+=1)t[l]=le(te(s,a,l));return{c(){e=_("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=g(l,"DIV",{class:!0});var i=y(e);for(let n=0;n<t.length;n+=1)t[n].l(i);i.forEach(m),this.h()},h(){c(e,"class","svelte-3a7y0z")},m(l,i){E(l,e,i);for(let n=0;n<t.length;n+=1)t[n].m(e,null)},p(l,i){if(i&7){a=l[1];let n;for(n=0;n<a.length;n+=1){const r=te(l,a,n);t[n]?t[n].p(r,i):(t[n]=le(r),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=a.length}},d(l){l&&m(e),se(t,l)}}}function le(s){let e,a=s[5].toUpperCase()+"",t,l,i,n;function r(){return s[3](s[5])}function h(){return s[4](s[5])}return{c(){e=_("span"),t=R(a),this.h()},l(v){e=g(v,"SPAN",{disabled:!0,class:!0});var f=y(e);t=U(f,a),f.forEach(m),this.h()},h(){c(e,"disabled",l=s[0]===s[5]),c(e,"class","svelte-3a7y0z"),K(e,"selected",s[0]===s[5])},m(v,f){E(v,e,f),p(e,t),i||(n=[Q(e,"click",r),Q(e,"keydown",h)],i=!0)},p(v,f){s=v,f&2&&a!==(a=s[5].toUpperCase()+"")&&B(t,a),f&3&&l!==(l=s[0]===s[5])&&c(e,"disabled",l),f&3&&K(e,"selected",s[0]===s[5])},d(v){v&&m(e),i=!1,re(n)}}}function ye(s){let e,a=s[1].length>1&&ae(s);return{c(){a&&a.c(),e=I()},l(t){a&&a.l(t),e=I()},m(t,l){a&&a.m(t,l),E(t,e,l)},p(t,[l]){t[1].length>1?a?a.p(t,l):(a=ae(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},i:H,o:H,d(t){a&&a.d(t),t&&m(e)}}}function Me(s,e,a){let{lang:t}=e,{languages:l}=e;function i(h){a(0,t=h),localStorage.setItem("selectedLanguage",h)}const n=h=>i(h),r=h=>i(h);return s.$$set=h=>{"lang"in h&&a(0,t=h.lang),"languages"in h&&a(1,l=h.languages)},[t,l,i,n,r]}class Te extends P{constructor(e){super(),C(this,e,Me,ye,D,{lang:0,languages:1})}}function ne(s){let e,a,t,l,i,n,r,h;function v(o){s[2](o)}let f={languages:ie};return s[1]!==void 0&&(f.lang=s[1]),a=new Te({props:f}),fe.push(()=>me(a,"lang",v)),i=new Ee({props:{essays:s[0].posts.filter(s[3]).length,lang:s[1],description:_e,title:L}}),r=new be({props:{data:s[0],lang:s[1]}}),{c(){e=_("article"),N(a.$$.fragment),l=M(),N(i.$$.fragment),n=M(),N(r.$$.fragment),this.h()},l(o){e=g(o,"ARTICLE",{style:!0});var u=y(e);z(a.$$.fragment,u),l=T(u),z(i.$$.fragment,u),n=T(u),z(r.$$.fragment,u),u.forEach(m),this.h()},h(){G(e,"--theme-color","blue")},m(o,u){E(o,e,u),V(a,e,null),p(e,l),V(i,e,null),p(e,n),V(r,e,null),h=!0},p(o,u){const k={};!t&&u&2&&(t=!0,k.lang=o[1],he(()=>t=!1)),a.$set(k);const d={};u&3&&(d.essays=o[0].posts.filter(o[3]).length),u&2&&(d.lang=o[1]),i.$set(d);const b={};u&1&&(b.data=o[0]),u&2&&(b.lang=o[1]),r.$set(b)},i(o){h||(A(a.$$.fragment,o),A(i.$$.fragment,o),A(r.$$.fragment,o),h=!0)},o(o){S(a.$$.fragment,o),S(i.$$.fragment,o),S(r.$$.fragment,o),h=!1},d(o){o&&m(e),j(a),j(i),j(r)}}}function Ae(s){let e,a,t,l,i,n,r,h,v,f,o,u,k,d=F&&s[1]&&ne(s);return document.title=a=L,{c(){d&&d.c(),e=M(),t=_("meta"),l=_("meta"),i=_("meta"),n=_("meta"),r=_("meta"),h=_("meta"),v=_("meta"),f=_("meta"),o=_("meta"),u=_("meta"),this.h()},l(b){d&&d.l(b),e=T(b);const w=oe("svelte-11lwyvs",document.head);t=g(w,"META",{name:!0,content:!0}),l=g(w,"META",{property:!0,content:!0}),i=g(w,"META",{property:!0,content:!0}),n=g(w,"META",{property:!0,content:!0}),r=g(w,"META",{property:!0,content:!0}),h=g(w,"META",{name:!0,content:!0}),v=g(w,"META",{property:!0,content:!0}),f=g(w,"META",{name:!0,content:!0}),o=g(w,"META",{name:!0,content:!0}),u=g(w,"META",{name:!0,content:!0}),w.forEach(m),this.h()},h(){c(t,"name","description"),c(t,"content",q),c(l,"property","og:url"),c(l,"content","https://uclab-potsdam.github.io/refa-reader"),c(i,"property","og:title"),c(i,"content",L),c(n,"property","og:description"),c(n,"content",q),c(r,"property","og:image"),c(r,"content",W),c(h,"name","twitter:card"),c(h,"content","summary_large_image"),c(v,"property","twitter:url"),c(v,"content","https://uclab-potsdam.github.io/refa-reader"),c(f,"name","twitter:title"),c(f,"content",L),c(o,"name","twitter:description"),c(o,"content",q),c(u,"name","twitter:image"),c(u,"content",W)},m(b,w){d&&d.m(b,w),E(b,e,w),p(document.head,t),p(document.head,l),p(document.head,i),p(document.head,n),p(document.head,r),p(document.head,h),p(document.head,v),p(document.head,f),p(document.head,o),p(document.head,u),k=!0},p(b,[w]){F&&b[1]?d?(d.p(b,w),w&2&&A(d,1)):(d=ne(b),d.c(),A(d,1),d.m(e.parentNode,e)):d&&(de(),S(d,1,1,()=>{d=null}),ce()),(!k||w&0)&&a!==(a=L)&&(document.title=a)},i(b){k||(A(d),k=!0)},o(b){S(d),k=!1},d(b){d&&d.d(b),b&&m(e),m(t),m(l),m(i),m(n),m(r),m(h),m(v),m(f),m(o),m(u)}}}function He(s,e,a){let{data:t}=e,l="";ue(async()=>{const r=localStorage.getItem("selectedLanguage");r?a(1,l=r):a(1,l=ie[0])});function i(r){l=r,a(1,l)}const n=r=>r.meta.isPublic&r.meta.lang==l;return s.$$set=r=>{"data"in r&&a(0,t=r.data)},[t,l,i,n]}class Ce extends P{constructor(e){super(),C(this,e,He,Ae,D,{data:0})}}export{Ce as component,Pe as universal};
